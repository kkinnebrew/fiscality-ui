{"version":3,"sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","../scripts/app.js","scripts/common/router1.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * @file app.js\n * @author kkinnebrew\n * @date 2.1.2015\n */\n\nvar $ = require('jquery');\nvar Router = require('./common/router1');\n\nvar router = new Router($('body'));\n\nrouter.register('home', {\n  view: 'home',\n  redirect: '/home/login'\n});\n\nrouter.register('home.login', {\n  view: 'login'\n});\n\nrouter.register('home.login', {\n  view: 'login1'\n});\n\nrouter.register('home.register', {\n  view: 'register'\n});\n\nrouter.register('app', {\n  view: 'app',\n  redirect: '/app/accounts'\n});\n\nrouter.register('app.accounts', {\n  url: '/app/accounts/:accountId',\n  view: 'accounts'\n});\n\nconsole.log(router.config);\n\n//router.registerDefault('/app/accounts');\n//\n//router.register404({\n//  template: require('../templates/404.hbs')\n//});\n\n//router.otherwise('/home/login');\n//\n//router.register('home', {\n//  abstract: true,\n//  redirect: 'home/login',\n//  template: require('../templates/home.hbs')\n//});\n//\n//router.register('home.login', {\n//  template: require('../templates/home/login.html')\n//});\n//\n//router.register('app', {\n//  abstract: true,\n//  redirect: 'app/accounts',\n//  template: require('../templates/app.hbs'),\n//  view: require('./views/app.js')\n//});\n//\n//router.register('app.accounts', {\n//  url: 'app/accounts/:accountId',\n//  views: {\n//    'subnav': {\n//      template: require('../templates/app/accounts/subnav.hbs'),\n//      view: require('./views/app/accounts/subnav'),\n//      viewModel: require('./viewmodels/app/accounts/subnav')\n//    },\n//    'content': {\n//      template: require('../templates/app/accounts/content.hbs')\n//    },\n//    'chart@content': {\n//      template: require('../templates/app/accounts/chart.hbs'),\n//      view: require('./views/app/accounts/chart')\n//    },\n//    'transactions@content': {\n//      template: require('../templates/app/accounts/transactions.hbs')\n//      //view: require('./views/app/accounts/transactions')\n//    }\n//  }\n//});\n//\n//router.register('app.investments', {\n//  views: {\n//    'subnav': {\n//      template: require('../templates/app/investments/subnav.hbs'),\n//      view: require('./views/app/investments/subnav')\n//    },\n//    'content': {\n//      template: require('../templates/app/investments/content.hbs')\n//    }\n//  }\n//});\n\n//router.register('app', {\n//  abstract: true,\n//  url: '/app',\n//  redirect: 'app/accounts',\n//  template: require('../templates/app.hbs'),\n//  view: require('./views/app')\n//});\n//\n//router.register('app.accounts', {\n//  url: '/app/accounts/:accountId',\n//  views: {\n//    'subnav': {\n//      template: require('../templates/app/accounts/subnav.hbs')\n//    },\n//    'content': {\n//      template: require('../templates/app/accounts/content.hbs')\n//    },\n//    'chart@content': {\n//      template: require('../templates/app/accounts/chart.hbs'),\n//      view: require('./views/app/accounts/chart')\n//      //viewModel: function(accountId) {\n//      //  var ViewModel = require('viewmodels/app/accounts/chart');\n//      //  return new ViewModel(accountId);\n//      //}\n//    },\n//    'transactions@content': {\n//      template: require('../templates/app/accounts/transactions.hbs'),\n//      view: require('./views/app/accounts/transactions')\n//      //viewModel: function(accountId) {\n//      //  var ViewModel = require('viewmodels/app/accounts/transactions');\n//      //  return new ViewModel(accountId);\n//      //}\n//    }\n//  }\n//});\n//\n\n\n\n$(document).ready(function() {\n  router.listen();\n});\n\n//var View = require('./common/view');\n//var ViewModel = require('./common/clementine').ViewModel;\n//var Controller = require('./common/clementine').Controller;\n//\n//(function(window) {\n//\n//  // exit if the browser implements that event\n//  if ( \"onhashchange\" in window.document.body ) { return; }\n//\n//  var location = window.location,\n//    oldURL = location.href,\n//    oldHash = location.hash;\n//\n//  // check the location hash on a 100ms interval\n//  setInterval(function() {\n//    var newURL = location.href,\n//      newHash = location.hash;\n//\n//    // if the hash has changed and a handler has been bound...\n//    if ( newHash != oldHash && typeof window.onhashchange === \"function\" ) {\n//      // execute the handler\n//      window.onhashchange({\n//        type: \"hashchange\",\n//        oldURL: oldURL,\n//        newURL: newURL\n//      });\n//\n//      oldURL = newURL;\n//      oldHash = newHash;\n//    }\n//  }, 100);\n//\n//})(window);\n//\n//(function(window) {\n//\n//  var states = {\n//    'home': {\n//      abstract: true,\n//      redirect: 'home/login',\n//      template: require('../templates/home.html'),\n//      view: require('./views/home')\n//    },\n//    'home.login': {\n//      template: require('../templates/home/login.html'),\n//      viewModel: require('./viewmodels/home/login')\n//    },\n//    'home.register': {\n//      template: require('../templates/home/register.html'),\n//      viewModel: require('./viewmodels/home/register')\n//    },\n//    'home.forgot': {\n//      template: require('../templates/home/forgot.html'),\n//      viewModel: require('./viewmodels/home/forgot')\n//    },\n//    'home.reset': {\n//      template: require('../templates/home/reset.html'),\n//      viewModel: require('./viewmodels/home/reset')\n//    },\n//    'app': {\n//      abstract: true,\n//      redirect: 'app/accounts',\n//      template: require('../templates/app.hbs')\n//    },\n//    'app.accounts': {\n//      views: {\n//        subnav: {\n//          template: require('../templates/app.hbs')\n//        }\n//      }\n//    }\n//  };\n//\n//  function redirectToDefault() {\n//    location.hash = '#/home/login';\n//  }\n//\n//  function renderPage(route) {\n//\n//    var parts = route.replace('#/', '').split('/');\n//\n//    if (parts[0].length === 0) parts.shift();\n//\n//    console.log('URL', parts);\n//\n//    var rootView, parent = null, vm = null, vw = null, key;\n//\n//    for (var i = 0; i < parts.length; i++) {\n//      if (parts[i] === \"\") continue;\n//      if (!key) {\n//        key = parts[i];\n//      } else {\n//        key += '.' + parts[i];\n//      }\n//      if (!states.hasOwnProperty(key)) {\n//        redirectToDefault();\n//      } else {\n//        var template = states[key].template;\n//        var view = states[key].view || View;\n//        var viewModel = states[key].viewModel;\n//        if (!parent) {\n//          if (viewModel) {\n//            vm = new viewModel();\n//          }\n//          rootView = parent = new view(template, vm);\n//          if (viewModel) {\n//            new Controller(vm, parent);\n//          }\n//        } else {\n//          if (viewModel) {\n//            vm = new viewModel();\n//          }\n//          vw = new view(template, vm);\n//          if (viewModel) {\n//            new Controller(vm, vw);\n//          }\n//          parent.registerSubview(vw);\n//          parent = vw;\n//        }\n//      }\n//    }\n//\n//\n//    if (states.hasOwnProperty(key) && states[key].abstract) {\n//      if (states[key].redirect) {\n//        location.hash = '#/' + states[key].redirect;\n//      } else {\n//        redirectToDefault();\n//      }\n//    }\n//    $('#app').empty();\n//    rootView.render($('#app'));\n//\n//  }\n//\n//  var route;\n//\n//  $(window).on('hashchange', function() {\n//\n//    route = location.hash;\n//\n//    renderPage(route);\n//\n//  });\n//\n//  if (!location.hash) {\n//    redirectToDefault();\n//  } else {\n//    route = location.hash;\n//    renderPage(route);\n//  }\n//\n//})(window);","var $ = require('jquery');\n\nfunction Router() {\n\n  this.config = {};\n\n}\n\n/**\n * registers a state along with it's configuration values\n * @method register\n * @param state\n * @param config\n */\nRouter.prototype.register = function(state, config) {\n\n  var parts = state.split('.');\n  var last = null;\n  var part = null;\n\n  while (parts.length) {\n\n    part = parts.shift();\n\n    if (!last) {\n      last = this.config;\n    }\n\n    if (parts.length == 0) {\n\n      if (last.hasOwnProperty(part)) {\n        console.warn('Overriding existing route ' + state);\n      }\n\n      config.params = [];\n\n      if (config.url) {\n\n        config.params = config.url.match(/:(\\w+)/g) || [];\n\n      }\n\n      last[part] = {\n        config: config,\n        children: {}\n      };\n\n    } else {\n\n      if (!last.hasOwnProperty(part)) {\n        return console.error('Parent route not defined');\n      }\n\n      last = last[part].children;\n\n    }\n\n  }\n\n};\n\n/**\n * activates the router to begin listening for hash changes\n * @method listen\n */\nRouter.prototype.listen = function() {\n\n  $(window).on('hashchange', $.proxy(this.render, this));\n\n  this.render();\n\n};\n\n/**\n * REturns the configuration option for a given state, or null\n * @param state\n * @returns {*}\n */\nRouter.prototype.getConfig = function(state) {\n\n  var parts = state.split('.');\n\n  var part = null;\n  var last = null;\n\n  while (parts.length) {\n\n    part = parts.shift();\n\n    if (!last) {\n      last = this.config;\n    }\n\n    if (!last.hasOwnProperty(part)) {\n      return console.error('State ' + state + ' not defined');\n    }\n\n    if (parts.length == 0) {\n      return last[part].config;\n    } else {\n      last = last[part].children;\n    }\n\n  }\n\n};\n\n/**\n * renders the overall hash path using cached views when available\n * @method render\n */\nRouter.prototype.render = function() {\n\n  var parts = location.hash.replace(/(^#\\/?)|(\\/$)/g, '').split('/');\n\n  console.log(parts);\n\n  var part = null;\n  var state = null;\n  var config = config;\n  var params = null;\n\n  while (parts.length) {\n\n    part = parts.shift();\n\n    state = state ? state + '.' + part : part;\n\n    config = this.getConfig(state);\n\n    if (!config) {\n      return console.error('Invalid route ' + state);\n    }\n\n    if (config.params) {\n      params = [];\n      for (var i = 0; i < config.params.length; i++) {\n        params[config.params[i].replace(':', '')] = parts.shift();\n      }\n    }\n\n    this.renderState(state, config, params);\n\n  }\n\n\n};\n\n/**\n * renders a given state based on it's configuration\n * @param state\n * @param config\n * @param [params]\n */\nRouter.prototype.renderState = function(state, config, params) {\n\n};\n\nmodule.exports = Router;"]}